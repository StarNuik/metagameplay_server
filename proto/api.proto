syntax = "proto3";

import "google/protobuf/empty.proto";

service Auth {
	rpc Register(RegisterReq) returns (UserSession) {}
	rpc Login(LoginReq) returns (UserSession) {}
}

message RegisterReq {
	optional string username = 1;
}

message LoginReq {
	optional string username = 1;
}

message UserSession {
	optional string session_token = 1;
}

service Meta {
	rpc Echo(EchoReq) returns (EchoResp) {}
	rpc GetUserInventory(google.protobuf.Empty) returns (UserInventory) {}
	rpc GetShopItems(google.protobuf.Empty) returns (ItemsList) {}
	rpc BuyItem(BuyItemReq) returns (google.protobuf.Empty) {}
}

message Item {
	optional int64 id = 1;
	optional int64 price = 2;
	optional string name = 3;
}

message GetUserInventoryReq {}
message ItemsListReq {}
message BuyItemReq {}

message UserInventory {}

message ItemsList {
	repeated Item items = 1;
}

message EchoReq {
	optional string message = 1;
}

message EchoResp {
	optional string message = 1;
}